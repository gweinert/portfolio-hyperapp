/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

eval("(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanM/YWU5OSJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oc2VsZikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXVxuXG4gICAgdmFyIGlzRGF0YVZpZXcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxuICAgIH1cblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXJhdG9yXG4gIH1cblxuICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9XG5cbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICAgIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSsnLCcrdmFsdWUgOiB2YWx1ZVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gICAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gQm9keSgpIHtcbiAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gICAgcmF3SGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRlcnNcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ2RlZmF1bHQnXG4gICAgdGhpcy5zdGF0dXMgPSAnc3RhdHVzJyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXMgOiAyMDBcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gJ3N0YXR1c1RleHQnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXR1c1RleHQgOiAnT0snXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgfVxuXG4gIEJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfVxuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICAgIHJldHVybiByZXNwb25zZVxuICB9XG5cbiAgdmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cbiAgUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICAgIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbiAgfVxuXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2VcblxuICBzZWxmLmZldGNoID0gZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGlucHV0LCBpbml0KVxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB2YXIgYm9keSA9ICdyZXNwb25zZScgaW4geGhyID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dFxuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICAgIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnaW5jbHVkZScpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gICAgfSlcbiAgfVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(2);
__webpack_require__(7);
module.exports = __webpack_require__(0);


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _hyperapp = __webpack_require__(3);\n\n__webpack_require__(0);\n\nvar HeaderSection = function HeaderSection(_ref) {\n    var state = _ref.state,\n        go = _ref.go,\n        slug = _ref.slug;\n\n\n    return (0, _hyperapp.h)(\n        \"nav\",\n        null,\n        state.content.map(function (page) {\n            var activeClass = page.link.substring(1, page.link.length) == slug ? \"active\" : \"\";\n\n            return (0, _hyperapp.h)(\n                \"div\",\n                {\n                    onclick: function onclick() {\n                        go(page.link);\n                    },\n                    \"class\": \"nav-item \" + page.title + \" \" + page.title.toLowerCase() + \" \" + activeClass + \" \"\n                },\n                (0, _hyperapp.h)(\n                    \"div\",\n                    { \"class\": \"hover-tool\" },\n                    page.title\n                )\n            );\n        })\n    );\n};\n\nvar Home = function Home(_ref2) {\n    var state = _ref2.state,\n        slug = _ref2.slug;\n\n    var active = slug == \"\" && state.content.length ? \"active\" : \"\";\n    var homePage = state.content.find(function (page) {\n        return page.link == \"/\";\n    });\n    var homeContent = homePage != undefined ? homePage.pageElements : {};\n\n    return (0, _hyperapp.h)(\n        \"section\",\n        { \"class\": \"card home \" + active, id: \"Home\" },\n        (0, _hyperapp.h)(\n            \"div\",\n            { \"class\": \"intro\" },\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"title\" },\n                (0, _hyperapp.h)(\n                    \"h1\",\n                    null,\n                    homeContent.H1.body\n                )\n            ),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"sub-title\" },\n                (0, _hyperapp.h)(\n                    \"h3\",\n                    null,\n                    homeContent.H2.body\n                )\n            )\n        ),\n        (0, _hyperapp.h)(\n            \"div\",\n            { \"class\": \"photo-container\" },\n            (0, _hyperapp.h)(\"div\", {\n                \"class\": \"profile-img\",\n                style: {\n                    backgroundImage: \"url(\\\"\" + homeContent.Image1.imagePath + \"\\\")\",\n                    backgroundSize: \"cover\"\n                }\n            }),\n            (0, _hyperapp.h)(\"div\", { \"class\": \"next-arrow\" })\n        )\n    );\n};\n\nvar Work = function Work(_ref3) {\n    var state = _ref3.state,\n        actions = _ref3.actions,\n        slug = _ref3.slug;\n\n    var active = slug == \"work\" ? \"active\" : \"\";\n    var workPage = state.content.find(function (page) {\n        return page.link == \"/work\";\n    });\n    var workContent = workPage.pageElements;\n    var workSlides = workContent.Slides || [];\n\n    return (0, _hyperapp.h)(\n        \"section\",\n        { \"class\": \"card work \" + active, id: \"Work\" },\n        (0, _hyperapp.h)(\n            \"div\",\n            { \"class\": \"title\" },\n            (0, _hyperapp.h)(\n                \"h2\",\n                null,\n                workContent.H1 ? workContent.H1.body : ''\n            )\n        ),\n        (0, _hyperapp.h)(\"div\", { \"class\": \"sub-info\",\n            oncreate: function oncreate(e) {\n                return e.innerHTML = workContent.Blurb1 ? workContent.Blurb1.body : '';\n            },\n            key: \"constant\"\n        }),\n        (0, _hyperapp.h)(\n            \"div\",\n            { \"class\": \"project-container\" },\n            workSlides.map(function (slide) {\n                return (0, _hyperapp.h)(\n                    \"div\",\n                    { \"class\": \"project\",\n                        onclick: function onclick() {\n                            return actions.openModel(slide);\n                        } },\n                    (0, _hyperapp.h)(\"div\", { \"class\": \"bg\",\n                        style: { backgroundImage: \"url(\\\"\" + slide.Image1.imagePath + \"\\\")\" }\n                    }),\n                    (0, _hyperapp.h)(\n                        \"div\",\n                        { \"class\": \"more-info scrum\" },\n                        (0, _hyperapp.h)(\n                            \"div\",\n                            { \"class\": \"title\" },\n                            slide.H1.body\n                        ),\n                        (0, _hyperapp.h)(\n                            \"div\",\n                            { \"class\": \"btn see-more\" },\n                            \"See More\"\n                        )\n                    )\n                );\n            })\n        )\n    );\n};\n\nvar Modal = function Modal(_ref4) {\n    var state = _ref4.state,\n        actions = _ref4.actions;\n\n    var content = state.workModalSlide;\n    var open = state.workModalOpen ? \"modal--open\" : \"modal--close\";\n\n    return (0, _hyperapp.h)(\n        \"div\",\n        { \"class\": \"modal md-effect-1 \" + open },\n        (0, _hyperapp.h)(\n            \"div\",\n            { \"class\": \"modal__outer\" },\n            (0, _hyperapp.h)(\"button\", { \"class\": \"overlay\" }),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"modal__inner\" },\n                (0, _hyperapp.h)(\n                    \"div\",\n                    { \"class\": \"modal__content\" },\n                    (0, _hyperapp.h)(\n                        \"div\",\n                        { \"class\": \"modal__content--inner\" },\n                        (0, _hyperapp.h)(ModalContent, { content: content })\n                    ),\n                    (0, _hyperapp.h)(\n                        \"button\",\n                        {\n                            \"class\": \"modal__close\",\n                            onclick: function onclick() {\n                                return actions.closeModal();\n                            }\n                        },\n                        \"x\"\n                    )\n                )\n            )\n        )\n    );\n};\n\nvar ModalContent = function ModalContent(_ref5) {\n    var content = _ref5.content;\n\n    if (Object.keys(content).length > 0) {\n        return (0, _hyperapp.h)(\n            \"div\",\n            null,\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"image-container\" },\n                (0, _hyperapp.h)(\"div\", { \"class\": \"image desktop\",\n                    style: { backgroundImage: \"url(\" + content.Image1.imagePath + \")\" }\n                }),\n                content.Image2.imagePath != null ? (0, _hyperapp.h)(\"div\", { \"class\": \"image mobile\",\n                    style: { backgroundImage: \"url(\" + content.Image2.imagePath + \")\" }\n                }) : null\n            ),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"proj-content-container\" },\n                (0, _hyperapp.h)(\n                    \"h2\",\n                    null,\n                    content.H2.body\n                ),\n                (0, _hyperapp.h)(\"p\", {\n                    oncreate: function oncreate(e) {\n                        return e.innerHTML = content.Blurb1 ? content.Blurb1.body : '';\n                    },\n                    onupdate: function onupdate(e) {\n                        return e.innerHTML = content.Blurb1 ? content.Blurb1.body : '';\n                    }\n\n                }),\n                (0, _hyperapp.h)(\n                    \"button\",\n                    null,\n                    (0, _hyperapp.h)(\n                        \"a\",\n                        { href: content.Link ? content.Link.path : '', target: \"_blank\" },\n                        content.Link ? content.Link.linkTitle : '',\n                        \" \",\n                        (0, _hyperapp.h)(\n                            \"span\",\n                            null,\n                            \">\"\n                        )\n                    )\n                )\n            )\n        );\n    } else return \"\";\n};\n\nvar Contact = function Contact(_ref6) {\n    var state = _ref6.state,\n        actions = _ref6.actions,\n        slug = _ref6.slug;\n\n    var active = slug == \"contact\" ? \"active\" : \"\";\n    var contactPage = state.content.find(function (page) {\n        return page.link == \"/contact\";\n    });\n    var contactContent = contactPage.pageElements;\n    var showLoader = state.formLoading ? \"show\" : \"\";\n\n    return (0, _hyperapp.h)(\n        \"section\",\n        { \"class\": \"card contact \" + active, id: \"Contact\" },\n        (0, _hyperapp.h)(\n            \"h2\",\n            null,\n            contactContent.H1.body\n        ),\n        (0, _hyperapp.h)(\"div\", {\n            oncreate: function oncreate(e) {\n                return e.innerHTML = contactContent.Blurb1.body;\n            } }),\n        (0, _hyperapp.h)(\n            \"form\",\n            { id: \"ContactForm\", key: state.formSubmitted },\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"input-wrapper col-6 lpadr\" },\n                (0, _hyperapp.h)(\"input\", { type: \"text\", placeholder: \"Name\", name: \"name\" })\n            ),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"input-wrapper col-6 lpadl\" },\n                (0, _hyperapp.h)(\"input\", { type: \"email\", placeholder: \"Email\", name: \"email\" })\n            ),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"input-wrapper col-12\" },\n                (0, _hyperapp.h)(\"input\", { type: \"text\", placeholder: \"Subject\", name: \"subject\" })\n            ),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"input-wrapper col-12\" },\n                (0, _hyperapp.h)(\"textarea\", { rows: \"8\", placeholder: \"Message\", name: \"message\" })\n            ),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"btn-wrap\" },\n                (0, _hyperapp.h)(\n                    \"button\",\n                    { type: \"button\", onclick: function onclick() {\n                            return actions.postForm(\"ContactForm\");\n                        } },\n                    \"Send Message\"\n                ),\n                (0, _hyperapp.h)(\"div\", { \"class\": \"loader \" + showLoader })\n            )\n        )\n    );\n};\n\nvar MainApp = function MainApp(_ref7) {\n    var state = _ref7.state,\n        actions = _ref7.actions,\n        slug = _ref7.slug;\n\n    var formSuccessShow = state.formSubmitted && state.formSuccess ? \"message-show\" : \"\";\n    var formErrorShow = state.formSubmitted && !state.formSuccess ? \"message-show\" : \"\";\n\n    if (state.content.length) {\n        return (0, _hyperapp.h)(\n            \"div\",\n            { \"class\": \"container wrapper\",\n                style: { backgroundImage: \"url(\\\"../images/bg.jpg\\\")\" } },\n            (0, _hyperapp.h)(HeaderSection, { state: state, go: actions.router.go, slug: slug }),\n            (0, _hyperapp.h)(\n                \"main\",\n                {\n                    style: { height: state.mainContainerSize + \"px\" } },\n                (0, _hyperapp.h)(Home, { state: state, slug: slug }),\n                (0, _hyperapp.h)(Work, { state: state, actions: actions, slug: slug }),\n                (0, _hyperapp.h)(Contact, { state: state, actions: actions, slug: slug })\n            ),\n            (0, _hyperapp.h)(Modal, { state: state, actions: actions }),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"flash flash-success \" + formSuccessShow },\n                \"Thank you. Your message has sent successfully! I will respond soon.\"\n            ),\n            (0, _hyperapp.h)(\n                \"div\",\n                { \"class\": \"flash flash-error \" + formErrorShow },\n                \"Uh oh! Your message was not sent. Try checking your connection or shoot me a text!\"\n            )\n        );\n    } else {\n        return (0, _hyperapp.h)(\n            \"div\",\n            null,\n            \"Loading...\"\n        );\n    }\n};\n\n(0, _hyperapp.app)({\n    state: {\n        content: [],\n        workModalOpen: false,\n        workModalSlide: {},\n        mainContainerSize: 400,\n        formLoading: false,\n        formSubmitted: false,\n        formSuccess: 0\n    },\n    view: [[\"/\", function (state, actions) {\n        return (0, _hyperapp.h)(MainApp, { state: state, actions: actions, slug: \"\" });\n    }], [\"/:slug\", function (state, actions) {\n        return (0, _hyperapp.h)(MainApp, { state: state, actions: actions, slug: state.router.params.slug });\n    }], [\"*\", function (state, actions) {\n        return (0, _hyperapp.h)(MainApp, { state: state, actions: actions });\n    }]],\n    actions: {\n        getContent: function getContent(state, actions) {\n            fetch(\"http://cms.garrettdev.xyz/api/siteapi/2\").then(function (res) {\n                return res.json();\n            }).then(function (data) {\n                if (data.success == 1) {\n                    actions.setContent(data.content);\n                }\n            });\n        },\n\n        setContent: function setContent(state, actions, content) {\n\n            var groups = {};\n\n            content.groups.forEach(function (groupItem) {\n                groups[groupItem.id] = groupItem;\n            });\n\n            content.pages.forEach(function (page) {\n                var newPageElObject = {};\n\n                page.pageElements.forEach(function (elGroup) {\n                    var group = groups[elGroup.groupID];\n\n                    if (elGroup.groupID) {\n                        newPageElObject[group.name] = [];\n                        elGroup.elements.forEach(function (el) {\n\n                            if (!newPageElObject[group.name][el.sortOrder]) {\n                                newPageElObject[group.name][el.sortOrder] = {};\n                            }\n                            newPageElObject[group.name][el.sortOrder][el.name] = el;\n                        });\n                    } else {\n                        elGroup.elements.forEach(function (el) {\n                            newPageElObject[el.name] = el;\n                        });\n                    }\n                });\n\n                page.pageElements = newPageElObject;\n            });\n\n            return { content: content.pages };\n        },\n\n        openModel: function openModel(state, actions, slide) {\n            return { workModalSlide: slide, workModalOpen: true };\n        },\n\n        closeModal: function closeModal(state) {\n            return { workModalOpen: false };\n        },\n\n        resizeMainContainerDelayed: function resizeMainContainerDelayed(state, actions) {\n            //delayed to grab the DOM object\n            window.setTimeout(actions.resizeMainContainer, 500);\n        },\n\n        resizeMainContainer: function resizeMainContainer(state, actions) {\n            var activePage = document.querySelector('.card.active');\n\n            if (!activePage) {\n                actions.resizeMainContainerDelayed();\n                return state;\n            }\n            var activePageHeight = activePage.scrollHeight;\n\n            if (activePageHeight == state.mainContainerSize) {\n                return state;\n            }\n            return { mainContainerSize: activePageHeight };\n        },\n\n        postForm: function postForm(state, actions, formID) {\n\n            var form = document.querySelector(\"#\" + formID);\n            var formData = new FormData();\n\n            [].slice.call(form.elements).forEach(function (el) {\n                if (el.type != \"button\") {\n                    formData.append(el.name, el.value);\n                }\n            });\n\n            fetch(\"http://cms.garrettdev.xyz/api/contact\", {\n                method: \"POST\",\n                body: formData\n            }).then(function (res) {\n                return res.json();\n            }).then(function (data) {\n                actions.formResponse(data.success);\n            });\n\n            return { formLoading: true };\n        },\n\n        formResponse: function formResponse(state, actions, formSuccess) {\n\n            actions.delayedFormMessageClear();\n\n            return {\n                formSubmitted: new Date(),\n                formSuccess: formSuccess,\n                formLoading: false\n            };\n        },\n\n        delayedFormMessageClear: function delayedFormMessageClear(state, actions) {\n            window.setTimeout(actions.formMessageClear, 5000);\n        },\n\n        formMessageClear: function formMessageClear(state, actions) {\n            return { formSuccess: false, formSubmitted: false };\n        }\n    },\n    events: {\n\n        loaded: function loaded(state, actions) {\n            actions.getContent();\n        },\n\n        route: function route(state, actions, data) {\n            actions.resizeMainContainerDelayed();\n        }\n    },\n    mixins: [_hyperapp.Router]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2luZGV4LmpzP2YyZTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaHlwZXJhcHAgPSByZXF1aXJlKFwiaHlwZXJhcHBcIik7XG5cbnJlcXVpcmUoXCJ3aGF0d2ctZmV0Y2hcIik7XG5cbnZhciBIZWFkZXJTZWN0aW9uID0gZnVuY3Rpb24gSGVhZGVyU2VjdGlvbihfcmVmKSB7XG4gICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgICAgZ28gPSBfcmVmLmdvLFxuICAgICAgICBzbHVnID0gX3JlZi5zbHVnO1xuXG5cbiAgICByZXR1cm4gKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgXCJuYXZcIixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgc3RhdGUuY29udGVudC5tYXAoZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVDbGFzcyA9IHBhZ2UubGluay5zdWJzdHJpbmcoMSwgcGFnZS5saW5rLmxlbmd0aCkgPT0gc2x1ZyA/IFwiYWN0aXZlXCIgOiBcIlwiO1xuXG4gICAgICAgICAgICByZXR1cm4gKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gb25jbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvKHBhZ2UubGluayk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJuYXYtaXRlbSBcIiArIHBhZ2UudGl0bGUgKyBcIiBcIiArIHBhZ2UudGl0bGUudG9Mb3dlckNhc2UoKSArIFwiIFwiICsgYWN0aXZlQ2xhc3MgKyBcIiBcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwiaG92ZXItdG9vbFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UudGl0bGVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICk7XG59O1xuXG52YXIgSG9tZSA9IGZ1bmN0aW9uIEhvbWUoX3JlZjIpIHtcbiAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSxcbiAgICAgICAgc2x1ZyA9IF9yZWYyLnNsdWc7XG5cbiAgICB2YXIgYWN0aXZlID0gc2x1ZyA9PSBcIlwiICYmIHN0YXRlLmNvbnRlbnQubGVuZ3RoID8gXCJhY3RpdmVcIiA6IFwiXCI7XG4gICAgdmFyIGhvbWVQYWdlID0gc3RhdGUuY29udGVudC5maW5kKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgIHJldHVybiBwYWdlLmxpbmsgPT0gXCIvXCI7XG4gICAgfSk7XG4gICAgdmFyIGhvbWVDb250ZW50ID0gaG9tZVBhZ2UgIT0gdW5kZWZpbmVkID8gaG9tZVBhZ2UucGFnZUVsZW1lbnRzIDoge307XG5cbiAgICByZXR1cm4gKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgXCJzZWN0aW9uXCIsXG4gICAgICAgIHsgXCJjbGFzc1wiOiBcImNhcmQgaG9tZSBcIiArIGFjdGl2ZSwgaWQ6IFwiSG9tZVwiIH0sXG4gICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwiaW50cm9cIiB9LFxuICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHsgXCJjbGFzc1wiOiBcInRpdGxlXCIgfSxcbiAgICAgICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgICAgICBcImgxXCIsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGhvbWVDb250ZW50LkgxLmJvZHlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHsgXCJjbGFzc1wiOiBcInN1Yi10aXRsZVwiIH0sXG4gICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgXCJoM1wiLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBob21lQ29udGVudC5IMi5ib2R5XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHsgXCJjbGFzc1wiOiBcInBob3RvLWNvbnRhaW5lclwiIH0sXG4gICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwicHJvZmlsZS1pbWdcIixcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFxcXCJcIiArIGhvbWVDb250ZW50LkltYWdlMS5pbWFnZVBhdGggKyBcIlxcXCIpXCIsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcImNvdmVyXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwibmV4dC1hcnJvd1wiIH0pXG4gICAgICAgIClcbiAgICApO1xufTtcblxudmFyIFdvcmsgPSBmdW5jdGlvbiBXb3JrKF9yZWYzKSB7XG4gICAgdmFyIHN0YXRlID0gX3JlZjMuc3RhdGUsXG4gICAgICAgIGFjdGlvbnMgPSBfcmVmMy5hY3Rpb25zLFxuICAgICAgICBzbHVnID0gX3JlZjMuc2x1ZztcblxuICAgIHZhciBhY3RpdmUgPSBzbHVnID09IFwid29ya1wiID8gXCJhY3RpdmVcIiA6IFwiXCI7XG4gICAgdmFyIHdvcmtQYWdlID0gc3RhdGUuY29udGVudC5maW5kKGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgIHJldHVybiBwYWdlLmxpbmsgPT0gXCIvd29ya1wiO1xuICAgIH0pO1xuICAgIHZhciB3b3JrQ29udGVudCA9IHdvcmtQYWdlLnBhZ2VFbGVtZW50cztcbiAgICB2YXIgd29ya1NsaWRlcyA9IHdvcmtDb250ZW50LlNsaWRlcyB8fCBbXTtcblxuICAgIHJldHVybiAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICBcInNlY3Rpb25cIixcbiAgICAgICAgeyBcImNsYXNzXCI6IFwiY2FyZCB3b3JrIFwiICsgYWN0aXZlLCBpZDogXCJXb3JrXCIgfSxcbiAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJ0aXRsZVwiIH0sXG4gICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgIFwiaDJcIixcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHdvcmtDb250ZW50LkgxID8gd29ya0NvbnRlbnQuSDEuYm9keSA6ICcnXG4gICAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwic3ViLWluZm9cIixcbiAgICAgICAgICAgIG9uY3JlYXRlOiBmdW5jdGlvbiBvbmNyZWF0ZShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuaW5uZXJIVE1MID0gd29ya0NvbnRlbnQuQmx1cmIxID8gd29ya0NvbnRlbnQuQmx1cmIxLmJvZHkgOiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXk6IFwiY29uc3RhbnRcIlxuICAgICAgICB9KSxcbiAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJwcm9qZWN0LWNvbnRhaW5lclwiIH0sXG4gICAgICAgICAgICB3b3JrU2xpZGVzLm1hcChmdW5jdGlvbiAoc2xpZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwicHJvamVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gb25jbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucy5vcGVuTW9kZWwoc2xpZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFwiZGl2XCIsIHsgXCJjbGFzc1wiOiBcImJnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFxcXCJcIiArIHNsaWRlLkltYWdlMS5pbWFnZVBhdGggKyBcIlxcXCIpXCIgfVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJtb3JlLWluZm8gc2NydW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJjbGFzc1wiOiBcInRpdGxlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5IMS5ib2R5XG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgXCJjbGFzc1wiOiBcImJ0biBzZWUtbW9yZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTZWUgTW9yZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICk7XG59O1xuXG52YXIgTW9kYWwgPSBmdW5jdGlvbiBNb2RhbChfcmVmNCkge1xuICAgIHZhciBzdGF0ZSA9IF9yZWY0LnN0YXRlLFxuICAgICAgICBhY3Rpb25zID0gX3JlZjQuYWN0aW9ucztcblxuICAgIHZhciBjb250ZW50ID0gc3RhdGUud29ya01vZGFsU2xpZGU7XG4gICAgdmFyIG9wZW4gPSBzdGF0ZS53b3JrTW9kYWxPcGVuID8gXCJtb2RhbC0tb3BlblwiIDogXCJtb2RhbC0tY2xvc2VcIjtcblxuICAgIHJldHVybiAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7IFwiY2xhc3NcIjogXCJtb2RhbCBtZC1lZmZlY3QtMSBcIiArIG9wZW4gfSxcbiAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJtb2RhbF9fb3V0ZXJcIiB9LFxuICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcImJ1dHRvblwiLCB7IFwiY2xhc3NcIjogXCJvdmVybGF5XCIgfSksXG4gICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwibW9kYWxfX2lubmVyXCIgfSxcbiAgICAgICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJtb2RhbF9fY29udGVudFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwibW9kYWxfX2NvbnRlbnQtLWlubmVyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoTW9kYWxDb250ZW50LCB7IGNvbnRlbnQ6IGNvbnRlbnQgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcIm1vZGFsX19jbG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uIG9uY2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4XCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICk7XG59O1xuXG52YXIgTW9kYWxDb250ZW50ID0gZnVuY3Rpb24gTW9kYWxDb250ZW50KF9yZWY1KSB7XG4gICAgdmFyIGNvbnRlbnQgPSBfcmVmNS5jb250ZW50O1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKGNvbnRlbnQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJpbWFnZS1jb250YWluZXJcIiB9LFxuICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwiaW1hZ2UgZGVza3RvcFwiLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBiYWNrZ3JvdW5kSW1hZ2U6IFwidXJsKFwiICsgY29udGVudC5JbWFnZTEuaW1hZ2VQYXRoICsgXCIpXCIgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQuSW1hZ2UyLmltYWdlUGF0aCAhPSBudWxsID8gKDAsIF9oeXBlcmFwcC5oKShcImRpdlwiLCB7IFwiY2xhc3NcIjogXCJpbWFnZSBtb2JpbGVcIixcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiBcInVybChcIiArIGNvbnRlbnQuSW1hZ2UyLmltYWdlUGF0aCArIFwiKVwiIH1cbiAgICAgICAgICAgICAgICB9KSA6IG51bGxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwicHJvai1jb250ZW50LWNvbnRhaW5lclwiIH0sXG4gICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgXCJoMlwiLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LkgyLmJvZHlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXCJwXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgb25jcmVhdGU6IGZ1bmN0aW9uIG9uY3JlYXRlKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmlubmVySFRNTCA9IGNvbnRlbnQuQmx1cmIxID8gY29udGVudC5CbHVyYjEuYm9keSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbnVwZGF0ZTogZnVuY3Rpb24gb251cGRhdGUoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuaW5uZXJIVE1MID0gY29udGVudC5CbHVyYjEgPyBjb250ZW50LkJsdXJiMS5ib2R5IDogJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaHJlZjogY29udGVudC5MaW5rID8gY29udGVudC5MaW5rLnBhdGggOiAnJywgdGFyZ2V0OiBcIl9ibGFua1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LkxpbmsgPyBjb250ZW50LkxpbmsubGlua1RpdGxlIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIj5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH0gZWxzZSByZXR1cm4gXCJcIjtcbn07XG5cbnZhciBDb250YWN0ID0gZnVuY3Rpb24gQ29udGFjdChfcmVmNikge1xuICAgIHZhciBzdGF0ZSA9IF9yZWY2LnN0YXRlLFxuICAgICAgICBhY3Rpb25zID0gX3JlZjYuYWN0aW9ucyxcbiAgICAgICAgc2x1ZyA9IF9yZWY2LnNsdWc7XG5cbiAgICB2YXIgYWN0aXZlID0gc2x1ZyA9PSBcImNvbnRhY3RcIiA/IFwiYWN0aXZlXCIgOiBcIlwiO1xuICAgIHZhciBjb250YWN0UGFnZSA9IHN0YXRlLmNvbnRlbnQuZmluZChmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICByZXR1cm4gcGFnZS5saW5rID09IFwiL2NvbnRhY3RcIjtcbiAgICB9KTtcbiAgICB2YXIgY29udGFjdENvbnRlbnQgPSBjb250YWN0UGFnZS5wYWdlRWxlbWVudHM7XG4gICAgdmFyIHNob3dMb2FkZXIgPSBzdGF0ZS5mb3JtTG9hZGluZyA/IFwic2hvd1wiIDogXCJcIjtcblxuICAgIHJldHVybiAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICBcInNlY3Rpb25cIixcbiAgICAgICAgeyBcImNsYXNzXCI6IFwiY2FyZCBjb250YWN0IFwiICsgYWN0aXZlLCBpZDogXCJDb250YWN0XCIgfSxcbiAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgIFwiaDJcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjb250YWN0Q29udGVudC5IMS5ib2R5XG4gICAgICAgICksXG4gICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXCJkaXZcIiwge1xuICAgICAgICAgICAgb25jcmVhdGU6IGZ1bmN0aW9uIG9uY3JlYXRlKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5pbm5lckhUTUwgPSBjb250YWN0Q29udGVudC5CbHVyYjEuYm9keTtcbiAgICAgICAgICAgIH0gfSksXG4gICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICBcImZvcm1cIixcbiAgICAgICAgICAgIHsgaWQ6IFwiQ29udGFjdEZvcm1cIiwga2V5OiBzdGF0ZS5mb3JtU3VibWl0dGVkIH0sXG4gICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwiaW5wdXQtd3JhcHBlciBjb2wtNiBscGFkclwiIH0sXG4gICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcImlucHV0XCIsIHsgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIk5hbWVcIiwgbmFtZTogXCJuYW1lXCIgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwiaW5wdXQtd3JhcHBlciBjb2wtNiBscGFkbFwiIH0sXG4gICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcImlucHV0XCIsIHsgdHlwZTogXCJlbWFpbFwiLCBwbGFjZWhvbGRlcjogXCJFbWFpbFwiLCBuYW1lOiBcImVtYWlsXCIgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgeyBcImNsYXNzXCI6IFwiaW5wdXQtd3JhcHBlciBjb2wtMTJcIiB9LFxuICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXCJpbnB1dFwiLCB7IHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogXCJTdWJqZWN0XCIsIG5hbWU6IFwic3ViamVjdFwiIH0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHsgXCJjbGFzc1wiOiBcImlucHV0LXdyYXBwZXIgY29sLTEyXCIgfSxcbiAgICAgICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKFwidGV4dGFyZWFcIiwgeyByb3dzOiBcIjhcIiwgcGxhY2Vob2xkZXI6IFwiTWVzc2FnZVwiLCBuYW1lOiBcIm1lc3NhZ2VcIiB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJidG4td3JhcFwiIH0sXG4gICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiBcImJ1dHRvblwiLCBvbmNsaWNrOiBmdW5jdGlvbiBvbmNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zLnBvc3RGb3JtKFwiQ29udGFjdEZvcm1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IH0sXG4gICAgICAgICAgICAgICAgICAgIFwiU2VuZCBNZXNzYWdlXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXCJkaXZcIiwgeyBcImNsYXNzXCI6IFwibG9hZGVyIFwiICsgc2hvd0xvYWRlciB9KVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgKTtcbn07XG5cbnZhciBNYWluQXBwID0gZnVuY3Rpb24gTWFpbkFwcChfcmVmNykge1xuICAgIHZhciBzdGF0ZSA9IF9yZWY3LnN0YXRlLFxuICAgICAgICBhY3Rpb25zID0gX3JlZjcuYWN0aW9ucyxcbiAgICAgICAgc2x1ZyA9IF9yZWY3LnNsdWc7XG5cbiAgICB2YXIgZm9ybVN1Y2Nlc3NTaG93ID0gc3RhdGUuZm9ybVN1Ym1pdHRlZCAmJiBzdGF0ZS5mb3JtU3VjY2VzcyA/IFwibWVzc2FnZS1zaG93XCIgOiBcIlwiO1xuICAgIHZhciBmb3JtRXJyb3JTaG93ID0gc3RhdGUuZm9ybVN1Ym1pdHRlZCAmJiAhc3RhdGUuZm9ybVN1Y2Nlc3MgPyBcIm1lc3NhZ2Utc2hvd1wiIDogXCJcIjtcblxuICAgIGlmIChzdGF0ZS5jb250ZW50Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJjb250YWluZXIgd3JhcHBlclwiLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7IGJhY2tncm91bmRJbWFnZTogXCJ1cmwoXFxcIi4uL2ltYWdlcy9iZy5qcGdcXFwiKVwiIH0gfSxcbiAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoSGVhZGVyU2VjdGlvbiwgeyBzdGF0ZTogc3RhdGUsIGdvOiBhY3Rpb25zLnJvdXRlci5nbywgc2x1Zzogc2x1ZyB9KSxcbiAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgXCJtYWluXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6IHN0YXRlLm1haW5Db250YWluZXJTaXplICsgXCJweFwiIH0gfSxcbiAgICAgICAgICAgICAgICAoMCwgX2h5cGVyYXBwLmgpKEhvbWUsIHsgc3RhdGU6IHN0YXRlLCBzbHVnOiBzbHVnIH0pLFxuICAgICAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoV29yaywgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbnM6IGFjdGlvbnMsIHNsdWc6IHNsdWcgfSksXG4gICAgICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShDb250YWN0LCB7IHN0YXRlOiBzdGF0ZSwgYWN0aW9uczogYWN0aW9ucywgc2x1Zzogc2x1ZyB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoTW9kYWwsIHsgc3RhdGU6IHN0YXRlLCBhY3Rpb25zOiBhY3Rpb25zIH0pLFxuICAgICAgICAgICAgKDAsIF9oeXBlcmFwcC5oKShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHsgXCJjbGFzc1wiOiBcImZsYXNoIGZsYXNoLXN1Y2Nlc3MgXCIgKyBmb3JtU3VjY2Vzc1Nob3cgfSxcbiAgICAgICAgICAgICAgICBcIlRoYW5rIHlvdS4gWW91ciBtZXNzYWdlIGhhcyBzZW50IHN1Y2Nlc3NmdWxseSEgSSB3aWxsIHJlc3BvbmQgc29vbi5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICgwLCBfaHlwZXJhcHAuaCkoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IFwiY2xhc3NcIjogXCJmbGFzaCBmbGFzaC1lcnJvciBcIiArIGZvcm1FcnJvclNob3cgfSxcbiAgICAgICAgICAgICAgICBcIlVoIG9oISBZb3VyIG1lc3NhZ2Ugd2FzIG5vdCBzZW50LiBUcnkgY2hlY2tpbmcgeW91ciBjb25uZWN0aW9uIG9yIHNob290IG1lIGEgdGV4dCFcIlxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoMCwgX2h5cGVyYXBwLmgpKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBcIkxvYWRpbmcuLi5cIlxuICAgICAgICApO1xuICAgIH1cbn07XG5cbigwLCBfaHlwZXJhcHAuYXBwKSh7XG4gICAgc3RhdGU6IHtcbiAgICAgICAgY29udGVudDogW10sXG4gICAgICAgIHdvcmtNb2RhbE9wZW46IGZhbHNlLFxuICAgICAgICB3b3JrTW9kYWxTbGlkZToge30sXG4gICAgICAgIG1haW5Db250YWluZXJTaXplOiA0MDAsXG4gICAgICAgIGZvcm1Mb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZm9ybVN1Ym1pdHRlZDogZmFsc2UsXG4gICAgICAgIGZvcm1TdWNjZXNzOiAwXG4gICAgfSxcbiAgICB2aWV3OiBbW1wiL1wiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaHlwZXJhcHAuaCkoTWFpbkFwcCwgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbnM6IGFjdGlvbnMsIHNsdWc6IFwiXCIgfSk7XG4gICAgfV0sIFtcIi86c2x1Z1wiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaHlwZXJhcHAuaCkoTWFpbkFwcCwgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbnM6IGFjdGlvbnMsIHNsdWc6IHN0YXRlLnJvdXRlci5wYXJhbXMuc2x1ZyB9KTtcbiAgICB9XSwgW1wiKlwiLCBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaHlwZXJhcHAuaCkoTWFpbkFwcCwgeyBzdGF0ZTogc3RhdGUsIGFjdGlvbnM6IGFjdGlvbnMgfSk7XG4gICAgfV1dLFxuICAgIGFjdGlvbnM6IHtcbiAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gZ2V0Q29udGVudChzdGF0ZSwgYWN0aW9ucykge1xuICAgICAgICAgICAgZmV0Y2goXCJodHRwOi8vY21zLmdhcnJldHRkZXYueHl6L2FwaS9zaXRlYXBpLzJcIikudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnMuc2V0Q29udGVudChkYXRhLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIHNldENvbnRlbnQoc3RhdGUsIGFjdGlvbnMsIGNvbnRlbnQpIHtcblxuICAgICAgICAgICAgdmFyIGdyb3VwcyA9IHt9O1xuXG4gICAgICAgICAgICBjb250ZW50Lmdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uIChncm91cEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBncm91cHNbZ3JvdXBJdGVtLmlkXSA9IGdyb3VwSXRlbTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250ZW50LnBhZ2VzLmZvckVhY2goZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3UGFnZUVsT2JqZWN0ID0ge307XG5cbiAgICAgICAgICAgICAgICBwYWdlLnBhZ2VFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBncm91cCA9IGdyb3Vwc1tlbEdyb3VwLmdyb3VwSURdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbEdyb3VwLmdyb3VwSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhZ2VFbE9iamVjdFtncm91cC5uYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxHcm91cC5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdQYWdlRWxPYmplY3RbZ3JvdXAubmFtZV1bZWwuc29ydE9yZGVyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYWdlRWxPYmplY3RbZ3JvdXAubmFtZV1bZWwuc29ydE9yZGVyXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYWdlRWxPYmplY3RbZ3JvdXAubmFtZV1bZWwuc29ydE9yZGVyXVtlbC5uYW1lXSA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbEdyb3VwLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFnZUVsT2JqZWN0W2VsLm5hbWVdID0gZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcGFnZS5wYWdlRWxlbWVudHMgPSBuZXdQYWdlRWxPYmplY3Q7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHsgY29udGVudDogY29udGVudC5wYWdlcyB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIG9wZW5Nb2RlbDogZnVuY3Rpb24gb3Blbk1vZGVsKHN0YXRlLCBhY3Rpb25zLCBzbGlkZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgd29ya01vZGFsU2xpZGU6IHNsaWRlLCB3b3JrTW9kYWxPcGVuOiB0cnVlIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2VNb2RhbDogZnVuY3Rpb24gY2xvc2VNb2RhbChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgd29ya01vZGFsT3BlbjogZmFsc2UgfTtcbiAgICAgICAgfSxcblxuICAgICAgICByZXNpemVNYWluQ29udGFpbmVyRGVsYXllZDogZnVuY3Rpb24gcmVzaXplTWFpbkNvbnRhaW5lckRlbGF5ZWQoc3RhdGUsIGFjdGlvbnMpIHtcbiAgICAgICAgICAgIC8vZGVsYXllZCB0byBncmFiIHRoZSBET00gb2JqZWN0XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhY3Rpb25zLnJlc2l6ZU1haW5Db250YWluZXIsIDUwMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzaXplTWFpbkNvbnRhaW5lcjogZnVuY3Rpb24gcmVzaXplTWFpbkNvbnRhaW5lcihzdGF0ZSwgYWN0aW9ucykge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZVBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC5hY3RpdmUnKTtcblxuICAgICAgICAgICAgaWYgKCFhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucy5yZXNpemVNYWluQ29udGFpbmVyRGVsYXllZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhY3RpdmVQYWdlSGVpZ2h0ID0gYWN0aXZlUGFnZS5zY3JvbGxIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChhY3RpdmVQYWdlSGVpZ2h0ID09IHN0YXRlLm1haW5Db250YWluZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgbWFpbkNvbnRhaW5lclNpemU6IGFjdGl2ZVBhZ2VIZWlnaHQgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBwb3N0Rm9ybTogZnVuY3Rpb24gcG9zdEZvcm0oc3RhdGUsIGFjdGlvbnMsIGZvcm1JRCkge1xuXG4gICAgICAgICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBmb3JtSUQpO1xuICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgICAgIFtdLnNsaWNlLmNhbGwoZm9ybS5lbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWwudHlwZSAhPSBcImJ1dHRvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChlbC5uYW1lLCBlbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZldGNoKFwiaHR0cDovL2Ntcy5nYXJyZXR0ZGV2Lnh5ei9hcGkvY29udGFjdFwiLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucy5mb3JtUmVzcG9uc2UoZGF0YS5zdWNjZXNzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4geyBmb3JtTG9hZGluZzogdHJ1ZSB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGZvcm1SZXNwb25zZTogZnVuY3Rpb24gZm9ybVJlc3BvbnNlKHN0YXRlLCBhY3Rpb25zLCBmb3JtU3VjY2Vzcykge1xuXG4gICAgICAgICAgICBhY3Rpb25zLmRlbGF5ZWRGb3JtTWVzc2FnZUNsZWFyKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZm9ybVN1Ym1pdHRlZDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBmb3JtU3VjY2VzczogZm9ybVN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgZm9ybUxvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIGRlbGF5ZWRGb3JtTWVzc2FnZUNsZWFyOiBmdW5jdGlvbiBkZWxheWVkRm9ybU1lc3NhZ2VDbGVhcihzdGF0ZSwgYWN0aW9ucykge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoYWN0aW9ucy5mb3JtTWVzc2FnZUNsZWFyLCA1MDAwKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmb3JtTWVzc2FnZUNsZWFyOiBmdW5jdGlvbiBmb3JtTWVzc2FnZUNsZWFyKHN0YXRlLCBhY3Rpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4geyBmb3JtU3VjY2VzczogZmFsc2UsIGZvcm1TdWJtaXR0ZWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGV2ZW50czoge1xuXG4gICAgICAgIGxvYWRlZDogZnVuY3Rpb24gbG9hZGVkKHN0YXRlLCBhY3Rpb25zKSB7XG4gICAgICAgICAgICBhY3Rpb25zLmdldENvbnRlbnQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICByb3V0ZTogZnVuY3Rpb24gcm91dGUoc3RhdGUsIGFjdGlvbnMsIGRhdGEpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucmVzaXplTWFpbkNvbnRhaW5lckRlbGF5ZWQoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWl4aW5zOiBbX2h5cGVyYXBwLlJvdXRlcl1cbn0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__h__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(6);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return __WEBPACK_IMPORTED_MODULE_0__h__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"app\", function() { return __WEBPACK_IMPORTED_MODULE_1__app__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Router\", function() { return __WEBPACK_IMPORTED_MODULE_2__router__[\"a\"]; });\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oeXBlcmFwcC9zcmMvaW5kZXguanM/ZWUxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaCBmcm9tIFwiLi9oXCJcbmltcG9ydCBhcHAgZnJvbSBcIi4vYXBwXCJcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIi4vcm91dGVyXCJcblxuZXhwb3J0IHsgaCwgYXBwLCBSb3V0ZXIgfVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaHlwZXJhcHAvc3JjL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony default export */ __webpack_exports__[\"a\"] = (function(tag, data) {\n  var node\n  var stack = []\n  var children = []\n\n  for (var i = arguments.length; i-- > 2; ) {\n    stack[stack.length] = arguments[i]\n  }\n\n  while (stack.length) {\n    if (Array.isArray((node = stack.pop()))) {\n      for (var i = node.length; i--; ) {\n        stack[stack.length] = node[i]\n      }\n    } else if (node != null && node !== true && node !== false) {\n      if (typeof node === \"number\") {\n        node = node + \"\"\n      }\n      children[children.length] = node\n    }\n  }\n\n  return typeof tag === \"string\"\n    ? {\n        tag: tag,\n        data: data || {},\n        children: children\n      }\n    : tag(data, children)\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oeXBlcmFwcC9zcmMvaC5qcz9hMDI1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHRhZywgZGF0YSkge1xuICB2YXIgbm9kZVxuICB2YXIgc3RhY2sgPSBbXVxuICB2YXIgY2hpbGRyZW4gPSBbXVxuXG4gIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoOyBpLS0gPiAyOyApIHtcbiAgICBzdGFja1tzdGFjay5sZW5ndGhdID0gYXJndW1lbnRzW2ldXG4gIH1cblxuICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoKG5vZGUgPSBzdGFjay5wb3AoKSkpKSB7XG4gICAgICBmb3IgKHZhciBpID0gbm9kZS5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIHN0YWNrW3N0YWNrLmxlbmd0aF0gPSBub2RlW2ldXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlICE9IG51bGwgJiYgbm9kZSAhPT0gdHJ1ZSAmJiBub2RlICE9PSBmYWxzZSkge1xuICAgICAgaWYgKHR5cGVvZiBub2RlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIG5vZGUgPSBub2RlICsgXCJcIlxuICAgICAgfVxuICAgICAgY2hpbGRyZW5bY2hpbGRyZW4ubGVuZ3RoXSA9IG5vZGVcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHlwZW9mIHRhZyA9PT0gXCJzdHJpbmdcIlxuICAgID8ge1xuICAgICAgICB0YWc6IHRhZyxcbiAgICAgICAgZGF0YTogZGF0YSB8fCB7fSxcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgICB9XG4gICAgOiB0YWcoZGF0YSwgY2hpbGRyZW4pXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9oeXBlcmFwcC9zcmMvaC5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony default export */ __webpack_exports__[\"a\"] = (function(app) {\n  var state = {}\n  var view = app.view\n  var actions = {}\n  var events = {}\n  var node\n  var element\n\n  for (var i = -1, mixins = app.mixins || []; i < mixins.length; i++) {\n    var mixin = mixins[i] ? mixins[i](app) : app\n\n    if (mixin.mixins != null && mixin !== app) {\n      mixins = mixins.concat(mixin.mixins)\n    }\n\n    if (mixin.state != null) {\n      state = merge(state, mixin.state)\n    }\n\n    init(actions, mixin.actions)\n\n    Object.keys(mixin.events || []).map(function(key) {\n      events[key] = (events[key] || []).concat(mixin.events[key])\n    })\n  }\n\n  if (document.readyState[0] !== \"l\") {\n    load()\n  } else {\n    addEventListener(\"DOMContentLoaded\", load)\n  }\n\n  function init(namespace, children, lastName) {\n    Object.keys(children || []).map(function(key) {\n      var action = children[key]\n      var name = lastName ? lastName + \".\" + key : key\n\n      if (typeof action === \"function\") {\n        namespace[key] = function(data) {\n          var result = action(\n            state,\n            actions,\n            emit(\"action\", {\n              name: name,\n              data: data\n            }).data,\n            emit\n          )\n\n          if (result == null || typeof result.then === \"function\") {\n            return result\n          }\n\n          render((state = merge(state, emit(\"update\", result))), view)\n        }\n      } else {\n        init(namespace[key] || (namespace[key] = {}), action, name)\n      }\n    })\n  }\n\n  function load() {\n    render(state, view)\n    emit(\"loaded\")\n  }\n\n  function emit(name, data) {\n    ;(events[name] || []).map(function(cb) {\n      var result = cb(state, actions, data, emit)\n      if (result != null) {\n        data = result\n      }\n    })\n\n    return data\n  }\n\n  function render(state, view) {\n    element = patch(\n      app.root || (app.root = document.body),\n      element,\n      node,\n      (node = emit(\"render\", view)(state, actions))\n    )\n  }\n\n  function merge(a, b) {\n    var obj = {}\n\n    if (typeof b !== \"object\" || Array.isArray(b)) {\n      return b\n    }\n\n    for (var i in a) {\n      obj[i] = a[i]\n    }\n    for (var i in b) {\n      obj[i] = b[i]\n    }\n\n    return obj\n  }\n\n  function createElementFrom(node, isSVG) {\n    if (typeof node === \"string\") {\n      var element = document.createTextNode(node)\n    } else {\n      var element = (isSVG = isSVG || node.tag === \"svg\")\n        ? document.createElementNS(\"http://www.w3.org/2000/svg\", node.tag)\n        : document.createElement(node.tag)\n\n      for (var i = 0; i < node.children.length; ) {\n        element.appendChild(createElementFrom(node.children[i++], isSVG))\n      }\n\n      for (var i in node.data) {\n        if (i === \"oncreate\") {\n          node.data[i](element)\n        } else {\n          setElementData(element, i, node.data[i])\n        }\n      }\n    }\n\n    return element\n  }\n\n  function setElementData(element, name, value, oldValue) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      for (var i in merge(oldValue, (value = value || {}))) {\n        element.style[i] = value[i] || \"\"\n      }\n    } else {\n      try {\n        element[name] = value\n      } catch (_) {}\n\n      if (typeof value !== \"function\") {\n        if (value) {\n          element.setAttribute(name, value)\n        } else {\n          element.removeAttribute(name)\n        }\n      }\n    }\n  }\n\n  function updateElementData(element, oldData, data) {\n    for (var name in merge(oldData, data)) {\n      var value = data[name]\n      var oldValue = name === \"value\" || name === \"checked\"\n        ? element[name]\n        : oldData[name]\n\n      if (name === \"onupdate\" && value) {\n        value(element)\n      } else if (value !== oldValue) {\n        setElementData(element, name, value, oldValue)\n      }\n    }\n  }\n\n  function getKeyFrom(node) {\n    if (node && (node = node.data)) {\n      return node.key\n    }\n  }\n\n  function removeElement(parent, element, node) {\n    ;((node.data && node.data.onremove) || removeChild)(element, removeChild)\n    function removeChild() {\n      parent.removeChild(element)\n    }\n  }\n\n  function patch(parent, element, oldNode, node) {\n    if (oldNode == null) {\n      element = parent.insertBefore(createElementFrom(node), element)\n    } else if (node.tag && node.tag === oldNode.tag) {\n      updateElementData(element, oldNode.data, node.data)\n\n      var len = node.children.length\n      var oldLen = oldNode.children.length\n      var reusableChildren = {}\n      var oldElements = []\n      var newKeys = {}\n\n      for (var i = 0; i < oldLen; i++) {\n        var oldElement = element.childNodes[i]\n        oldElements[i] = oldElement\n\n        var oldChild = oldNode.children[i]\n        var oldKey = getKeyFrom(oldChild)\n\n        if (null != oldKey) {\n          reusableChildren[oldKey] = [oldElement, oldChild]\n        }\n      }\n\n      var i = 0\n      var j = 0\n\n      while (j < len) {\n        var oldElement = oldElements[i]\n        var oldChild = oldNode.children[i]\n        var newChild = node.children[j]\n\n        var oldKey = getKeyFrom(oldChild)\n        if (newKeys[oldKey]) {\n          i++\n          continue\n        }\n\n        var newKey = getKeyFrom(newChild)\n\n        var reusableChild = reusableChildren[newKey] || []\n\n        if (null == newKey) {\n          if (null == oldKey) {\n            patch(element, oldElement, oldChild, newChild)\n            j++\n          }\n          i++\n        } else {\n          if (oldKey === newKey) {\n            patch(element, reusableChild[0], reusableChild[1], newChild)\n            i++\n          } else if (reusableChild[0]) {\n            element.insertBefore(reusableChild[0], oldElement)\n            patch(element, reusableChild[0], reusableChild[1], newChild)\n          } else {\n            patch(element, oldElement, null, newChild)\n          }\n\n          j++\n          newKeys[newKey] = newChild\n        }\n      }\n\n      while (i < oldLen) {\n        var oldChild = oldNode.children[i]\n        var oldKey = getKeyFrom(oldChild)\n        if (null == oldKey) {\n          removeElement(element, oldElements[i], oldChild)\n        }\n        i++\n      }\n\n      for (var i in reusableChildren) {\n        var reusableChild = reusableChildren[i]\n        var reusableNode = reusableChild[1]\n        if (!newKeys[reusableNode.data.key]) {\n          removeElement(element, reusableChild[0], reusableNode)\n        }\n      }\n    } else if (node !== oldNode) {\n      var i = element\n      parent.replaceChild((element = createElementFrom(node)), i)\n    }\n\n    return element\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oeXBlcmFwcC9zcmMvYXBwLmpzPzYzMTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXBwKSB7XG4gIHZhciBzdGF0ZSA9IHt9XG4gIHZhciB2aWV3ID0gYXBwLnZpZXdcbiAgdmFyIGFjdGlvbnMgPSB7fVxuICB2YXIgZXZlbnRzID0ge31cbiAgdmFyIG5vZGVcbiAgdmFyIGVsZW1lbnRcblxuICBmb3IgKHZhciBpID0gLTEsIG1peGlucyA9IGFwcC5taXhpbnMgfHwgW107IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbWl4aW4gPSBtaXhpbnNbaV0gPyBtaXhpbnNbaV0oYXBwKSA6IGFwcFxuXG4gICAgaWYgKG1peGluLm1peGlucyAhPSBudWxsICYmIG1peGluICE9PSBhcHApIHtcbiAgICAgIG1peGlucyA9IG1peGlucy5jb25jYXQobWl4aW4ubWl4aW5zKVxuICAgIH1cblxuICAgIGlmIChtaXhpbi5zdGF0ZSAhPSBudWxsKSB7XG4gICAgICBzdGF0ZSA9IG1lcmdlKHN0YXRlLCBtaXhpbi5zdGF0ZSlcbiAgICB9XG5cbiAgICBpbml0KGFjdGlvbnMsIG1peGluLmFjdGlvbnMpXG5cbiAgICBPYmplY3Qua2V5cyhtaXhpbi5ldmVudHMgfHwgW10pLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGV2ZW50c1trZXldID0gKGV2ZW50c1trZXldIHx8IFtdKS5jb25jYXQobWl4aW4uZXZlbnRzW2tleV0pXG4gICAgfSlcbiAgfVxuXG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlWzBdICE9PSBcImxcIikge1xuICAgIGxvYWQoKVxuICB9IGVsc2Uge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGxvYWQpXG4gIH1cblxuICBmdW5jdGlvbiBpbml0KG5hbWVzcGFjZSwgY2hpbGRyZW4sIGxhc3ROYW1lKSB7XG4gICAgT2JqZWN0LmtleXMoY2hpbGRyZW4gfHwgW10pLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBjaGlsZHJlbltrZXldXG4gICAgICB2YXIgbmFtZSA9IGxhc3ROYW1lID8gbGFzdE5hbWUgKyBcIi5cIiArIGtleSA6IGtleVxuXG4gICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG5hbWVzcGFjZVtrZXldID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBhY3Rpb24oXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIGFjdGlvbnMsXG4gICAgICAgICAgICBlbWl0KFwiYWN0aW9uXCIsIHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgICAgfSkuZGF0YSxcbiAgICAgICAgICAgIGVtaXRcbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgdHlwZW9mIHJlc3VsdC50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZW5kZXIoKHN0YXRlID0gbWVyZ2Uoc3RhdGUsIGVtaXQoXCJ1cGRhdGVcIiwgcmVzdWx0KSkpLCB2aWV3KVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbml0KG5hbWVzcGFjZVtrZXldIHx8IChuYW1lc3BhY2Vba2V5XSA9IHt9KSwgYWN0aW9uLCBuYW1lKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBsb2FkKCkge1xuICAgIHJlbmRlcihzdGF0ZSwgdmlldylcbiAgICBlbWl0KFwibG9hZGVkXCIpXG4gIH1cblxuICBmdW5jdGlvbiBlbWl0KG5hbWUsIGRhdGEpIHtcbiAgICA7KGV2ZW50c1tuYW1lXSB8fCBbXSkubWFwKGZ1bmN0aW9uKGNiKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gY2Ioc3RhdGUsIGFjdGlvbnMsIGRhdGEsIGVtaXQpXG4gICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgZGF0YSA9IHJlc3VsdFxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgZnVuY3Rpb24gcmVuZGVyKHN0YXRlLCB2aWV3KSB7XG4gICAgZWxlbWVudCA9IHBhdGNoKFxuICAgICAgYXBwLnJvb3QgfHwgKGFwcC5yb290ID0gZG9jdW1lbnQuYm9keSksXG4gICAgICBlbGVtZW50LFxuICAgICAgbm9kZSxcbiAgICAgIChub2RlID0gZW1pdChcInJlbmRlclwiLCB2aWV3KShzdGF0ZSwgYWN0aW9ucykpXG4gICAgKVxuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2UoYSwgYikge1xuICAgIHZhciBvYmogPSB7fVxuXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgIHJldHVybiBiXG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBhKSB7XG4gICAgICBvYmpbaV0gPSBhW2ldXG4gICAgfVxuICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgb2JqW2ldID0gYltpXVxuICAgIH1cblxuICAgIHJldHVybiBvYmpcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRGcm9tKG5vZGUsIGlzU1ZHKSB7XG4gICAgaWYgKHR5cGVvZiBub2RlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBlbGVtZW50ID0gKGlzU1ZHID0gaXNTVkcgfHwgbm9kZS50YWcgPT09IFwic3ZnXCIpXG4gICAgICAgID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgbm9kZS50YWcpXG4gICAgICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlLnRhZylcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgKSB7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudEZyb20obm9kZS5jaGlsZHJlbltpKytdLCBpc1NWRykpXG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgaW4gbm9kZS5kYXRhKSB7XG4gICAgICAgIGlmIChpID09PSBcIm9uY3JlYXRlXCIpIHtcbiAgICAgICAgICBub2RlLmRhdGFbaV0oZWxlbWVudClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRFbGVtZW50RGF0YShlbGVtZW50LCBpLCBub2RlLmRhdGFbaV0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudFxuICB9XG5cbiAgZnVuY3Rpb24gc2V0RWxlbWVudERhdGEoZWxlbWVudCwgbmFtZSwgdmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgaWYgKG5hbWUgPT09IFwia2V5XCIpIHtcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09IFwic3R5bGVcIikge1xuICAgICAgZm9yICh2YXIgaSBpbiBtZXJnZShvbGRWYWx1ZSwgKHZhbHVlID0gdmFsdWUgfHwge30pKSkge1xuICAgICAgICBlbGVtZW50LnN0eWxlW2ldID0gdmFsdWVbaV0gfHwgXCJcIlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBlbGVtZW50W25hbWVdID0gdmFsdWVcbiAgICAgIH0gY2F0Y2ggKF8pIHt9XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudERhdGEoZWxlbWVudCwgb2xkRGF0YSwgZGF0YSkge1xuICAgIGZvciAodmFyIG5hbWUgaW4gbWVyZ2Uob2xkRGF0YSwgZGF0YSkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGRhdGFbbmFtZV1cbiAgICAgIHZhciBvbGRWYWx1ZSA9IG5hbWUgPT09IFwidmFsdWVcIiB8fCBuYW1lID09PSBcImNoZWNrZWRcIlxuICAgICAgICA/IGVsZW1lbnRbbmFtZV1cbiAgICAgICAgOiBvbGREYXRhW25hbWVdXG5cbiAgICAgIGlmIChuYW1lID09PSBcIm9udXBkYXRlXCIgJiYgdmFsdWUpIHtcbiAgICAgICAgdmFsdWUoZWxlbWVudClcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgIHNldEVsZW1lbnREYXRhKGVsZW1lbnQsIG5hbWUsIHZhbHVlLCBvbGRWYWx1ZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRLZXlGcm9tKG5vZGUpIHtcbiAgICBpZiAobm9kZSAmJiAobm9kZSA9IG5vZGUuZGF0YSkpIHtcbiAgICAgIHJldHVybiBub2RlLmtleVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQocGFyZW50LCBlbGVtZW50LCBub2RlKSB7XG4gICAgOygobm9kZS5kYXRhICYmIG5vZGUuZGF0YS5vbnJlbW92ZSkgfHwgcmVtb3ZlQ2hpbGQpKGVsZW1lbnQsIHJlbW92ZUNoaWxkKVxuICAgIGZ1bmN0aW9uIHJlbW92ZUNoaWxkKCkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF0Y2gocGFyZW50LCBlbGVtZW50LCBvbGROb2RlLCBub2RlKSB7XG4gICAgaWYgKG9sZE5vZGUgPT0gbnVsbCkge1xuICAgICAgZWxlbWVudCA9IHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlRWxlbWVudEZyb20obm9kZSksIGVsZW1lbnQpXG4gICAgfSBlbHNlIGlmIChub2RlLnRhZyAmJiBub2RlLnRhZyA9PT0gb2xkTm9kZS50YWcpIHtcbiAgICAgIHVwZGF0ZUVsZW1lbnREYXRhKGVsZW1lbnQsIG9sZE5vZGUuZGF0YSwgbm9kZS5kYXRhKVxuXG4gICAgICB2YXIgbGVuID0gbm9kZS5jaGlsZHJlbi5sZW5ndGhcbiAgICAgIHZhciBvbGRMZW4gPSBvbGROb2RlLmNoaWxkcmVuLmxlbmd0aFxuICAgICAgdmFyIHJldXNhYmxlQ2hpbGRyZW4gPSB7fVxuICAgICAgdmFyIG9sZEVsZW1lbnRzID0gW11cbiAgICAgIHZhciBuZXdLZXlzID0ge31cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRMZW47IGkrKykge1xuICAgICAgICB2YXIgb2xkRWxlbWVudCA9IGVsZW1lbnQuY2hpbGROb2Rlc1tpXVxuICAgICAgICBvbGRFbGVtZW50c1tpXSA9IG9sZEVsZW1lbnRcblxuICAgICAgICB2YXIgb2xkQ2hpbGQgPSBvbGROb2RlLmNoaWxkcmVuW2ldXG4gICAgICAgIHZhciBvbGRLZXkgPSBnZXRLZXlGcm9tKG9sZENoaWxkKVxuXG4gICAgICAgIGlmIChudWxsICE9IG9sZEtleSkge1xuICAgICAgICAgIHJldXNhYmxlQ2hpbGRyZW5bb2xkS2V5XSA9IFtvbGRFbGVtZW50LCBvbGRDaGlsZF1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaSA9IDBcbiAgICAgIHZhciBqID0gMFxuXG4gICAgICB3aGlsZSAoaiA8IGxlbikge1xuICAgICAgICB2YXIgb2xkRWxlbWVudCA9IG9sZEVsZW1lbnRzW2ldXG4gICAgICAgIHZhciBvbGRDaGlsZCA9IG9sZE5vZGUuY2hpbGRyZW5baV1cbiAgICAgICAgdmFyIG5ld0NoaWxkID0gbm9kZS5jaGlsZHJlbltqXVxuXG4gICAgICAgIHZhciBvbGRLZXkgPSBnZXRLZXlGcm9tKG9sZENoaWxkKVxuICAgICAgICBpZiAobmV3S2V5c1tvbGRLZXldKSB7XG4gICAgICAgICAgaSsrXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXdLZXkgPSBnZXRLZXlGcm9tKG5ld0NoaWxkKVxuXG4gICAgICAgIHZhciByZXVzYWJsZUNoaWxkID0gcmV1c2FibGVDaGlsZHJlbltuZXdLZXldIHx8IFtdXG5cbiAgICAgICAgaWYgKG51bGwgPT0gbmV3S2V5KSB7XG4gICAgICAgICAgaWYgKG51bGwgPT0gb2xkS2V5KSB7XG4gICAgICAgICAgICBwYXRjaChlbGVtZW50LCBvbGRFbGVtZW50LCBvbGRDaGlsZCwgbmV3Q2hpbGQpXG4gICAgICAgICAgICBqKytcbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG9sZEtleSA9PT0gbmV3S2V5KSB7XG4gICAgICAgICAgICBwYXRjaChlbGVtZW50LCByZXVzYWJsZUNoaWxkWzBdLCByZXVzYWJsZUNoaWxkWzFdLCBuZXdDaGlsZClcbiAgICAgICAgICAgIGkrK1xuICAgICAgICAgIH0gZWxzZSBpZiAocmV1c2FibGVDaGlsZFswXSkge1xuICAgICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUocmV1c2FibGVDaGlsZFswXSwgb2xkRWxlbWVudClcbiAgICAgICAgICAgIHBhdGNoKGVsZW1lbnQsIHJldXNhYmxlQ2hpbGRbMF0sIHJldXNhYmxlQ2hpbGRbMV0sIG5ld0NoaWxkKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXRjaChlbGVtZW50LCBvbGRFbGVtZW50LCBudWxsLCBuZXdDaGlsZClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBqKytcbiAgICAgICAgICBuZXdLZXlzW25ld0tleV0gPSBuZXdDaGlsZFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChpIDwgb2xkTGVuKSB7XG4gICAgICAgIHZhciBvbGRDaGlsZCA9IG9sZE5vZGUuY2hpbGRyZW5baV1cbiAgICAgICAgdmFyIG9sZEtleSA9IGdldEtleUZyb20ob2xkQ2hpbGQpXG4gICAgICAgIGlmIChudWxsID09IG9sZEtleSkge1xuICAgICAgICAgIHJlbW92ZUVsZW1lbnQoZWxlbWVudCwgb2xkRWxlbWVudHNbaV0sIG9sZENoaWxkKVxuICAgICAgICB9XG4gICAgICAgIGkrK1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpIGluIHJldXNhYmxlQ2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIHJldXNhYmxlQ2hpbGQgPSByZXVzYWJsZUNoaWxkcmVuW2ldXG4gICAgICAgIHZhciByZXVzYWJsZU5vZGUgPSByZXVzYWJsZUNoaWxkWzFdXG4gICAgICAgIGlmICghbmV3S2V5c1tyZXVzYWJsZU5vZGUuZGF0YS5rZXldKSB7XG4gICAgICAgICAgcmVtb3ZlRWxlbWVudChlbGVtZW50LCByZXVzYWJsZUNoaWxkWzBdLCByZXVzYWJsZU5vZGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUgIT09IG9sZE5vZGUpIHtcbiAgICAgIHZhciBpID0gZWxlbWVudFxuICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZCgoZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnRGcm9tKG5vZGUpKSwgaSlcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudFxuICB9XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9oeXBlcmFwcC9zcmMvYXBwLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony default export */ __webpack_exports__[\"a\"] = (function(app, view) {\n  return {\n    state: {\n      router: match(location.pathname)\n    },\n    actions: {\n      router: {\n        match: function(state, actions, data, emit) {\n          return {\n            router: emit(\"route\", match(data))\n          }\n        },\n        go: function(state, actions, data) {\n          history.pushState({}, \"\", data)\n          actions.router.match(data.split(\"?\")[0])\n        }\n      }\n    },\n    events: {\n      loaded: function(state, actions) {\n        match()\n        addEventListener(\"popstate\", match)\n\n        function match() {\n          actions.router.match(location.pathname)\n        }\n      },\n      render: function() {\n        return view\n      }\n    }\n  }\n\n  function match(data) {\n    for (var match, params = {}, i = 0, len = app.view.length; i < len; i++) {\n      var route = app.view[i][0]\n      var keys = []\n\n      if (!match) {\n        data.replace(\n          RegExp(\n            route === \"*\"\n              ? \".\" + route\n              : \"^\" +\n                  route\n                    .replace(/\\//g, \"\\\\/\")\n                    .replace(/:([\\w]+)/g, function(_, key) {\n                      keys.push(key)\n                      return \"([-\\\\.\\\\w]+)\"\n                    }) +\n                  \"/?$\",\n            \"g\"\n          ),\n          function() {\n            for (var j = 1; j < arguments.length - 2; ) {\n              params[keys.shift()] = arguments[j++]\n            }\n            match = route\n            view = app.view[i][1]\n          }\n        )\n      }\n    }\n\n    return {\n      match: match,\n      params: params\n    }\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oeXBlcmFwcC9zcmMvcm91dGVyLmpzPzdkYTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYXBwLCB2aWV3KSB7XG4gIHJldHVybiB7XG4gICAgc3RhdGU6IHtcbiAgICAgIHJvdXRlcjogbWF0Y2gobG9jYXRpb24ucGF0aG5hbWUpXG4gICAgfSxcbiAgICBhY3Rpb25zOiB7XG4gICAgICByb3V0ZXI6IHtcbiAgICAgICAgbWF0Y2g6IGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb25zLCBkYXRhLCBlbWl0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdXRlcjogZW1pdChcInJvdXRlXCIsIG1hdGNoKGRhdGEpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ286IGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb25zLCBkYXRhKSB7XG4gICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoe30sIFwiXCIsIGRhdGEpXG4gICAgICAgICAgYWN0aW9ucy5yb3V0ZXIubWF0Y2goZGF0YS5zcGxpdChcIj9cIilbMF0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgbG9hZGVkOiBmdW5jdGlvbihzdGF0ZSwgYWN0aW9ucykge1xuICAgICAgICBtYXRjaCgpXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBtYXRjaClcblxuICAgICAgICBmdW5jdGlvbiBtYXRjaCgpIHtcbiAgICAgICAgICBhY3Rpb25zLnJvdXRlci5tYXRjaChsb2NhdGlvbi5wYXRobmFtZSlcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2aWV3XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWF0Y2goZGF0YSkge1xuICAgIGZvciAodmFyIG1hdGNoLCBwYXJhbXMgPSB7fSwgaSA9IDAsIGxlbiA9IGFwcC52aWV3Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgcm91dGUgPSBhcHAudmlld1tpXVswXVxuICAgICAgdmFyIGtleXMgPSBbXVxuXG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIGRhdGEucmVwbGFjZShcbiAgICAgICAgICBSZWdFeHAoXG4gICAgICAgICAgICByb3V0ZSA9PT0gXCIqXCJcbiAgICAgICAgICAgICAgPyBcIi5cIiArIHJvdXRlXG4gICAgICAgICAgICAgIDogXCJeXCIgK1xuICAgICAgICAgICAgICAgICAgcm91dGVcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcLy9nLCBcIlxcXFwvXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC86KFtcXHddKykvZywgZnVuY3Rpb24oXywga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSlcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIoWy1cXFxcLlxcXFx3XSspXCJcbiAgICAgICAgICAgICAgICAgICAgfSkgK1xuICAgICAgICAgICAgICAgICAgXCIvPyRcIixcbiAgICAgICAgICAgIFwiZ1wiXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJndW1lbnRzLmxlbmd0aCAtIDI7ICkge1xuICAgICAgICAgICAgICBwYXJhbXNba2V5cy5zaGlmdCgpXSA9IGFyZ3VtZW50c1tqKytdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRjaCA9IHJvdXRlXG4gICAgICAgICAgICB2aWV3ID0gYXBwLnZpZXdbaV1bMV1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2g6IG1hdGNoLFxuICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL2h5cGVyYXBwL3NyYy9yb3V0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n");

/***/ }),
/* 7 */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3N0eWxlcy9zdHlsZXMuY3NzPzIyMGYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3N0eWxlcy9zdHlsZXMuY3NzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n");

/***/ })
/******/ ]);